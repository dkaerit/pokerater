(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[911],{17461:(e,t,a)=>{"use strict";a.d(t,{LanguageSwitcher:()=>j});var r=a(95155),s=a(35695),l=a(12115),n=a(11721),o=a(79556),i=a(77381),d=a(10518),c=a(59434);let m=n.bL;n.YJ;let u=n.WT,f=l.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(n.l9,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[s,(0,r.jsx)(n.In,{asChild:!0,children:(0,r.jsx)(o.A,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=n.l9.displayName;let p=l.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.PP,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})});p.displayName=n.PP.displayName;let h=l.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.wn,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})});h.displayName=n.wn.displayName;let x=l.forwardRef((e,t)=>{let{className:a,children:s,position:l="popper",...o}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsxs)(n.UC,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...o,children:[(0,r.jsx)(p,{}),(0,r.jsx)(n.LM,{className:(0,c.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(h,{})]})})});x.displayName=n.UC.displayName,l.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.JU,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=n.JU.displayName;let g=l.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(n.q7,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})}),(0,r.jsx)(n.p4,{children:s})]})});function j(e){let{lang:t}=e,a=(0,s.useRouter)(),l=(0,s.usePathname)();return(0,r.jsxs)(m,{value:t,onValueChange:e=>{let r=l.replace("/".concat(t),"/".concat(e));a.push(r)},children:[(0,r.jsx)(f,{className:"w-[120px]",children:(0,r.jsx)(u,{placeholder:"Language"})}),(0,r.jsxs)(x,{children:[(0,r.jsx)(g,{value:"es",children:"Espa\xf1ol"}),(0,r.jsx)(g,{value:"en",children:"English"})]})]})}g.displayName=n.q7.displayName,l.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=n.wv.displayName},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var r=a(52596),s=a(39688);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},64962:()=>{},74224:(e,t,a)=>{"use strict";a.d(t,{PokeRater:()=>eb});var r=a(95155),s=a(12115),l=a(35695),n=a(66634),o=a(74466),i=a(59434);let d=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:o=!1,...c}=e,m=o?n.DX:"button";return(0,r.jsx)(m,{className:(0,i.cn)(d({variant:s,size:l,className:a})),ref:t,...c})});function m(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",t),...a})}c.displayName="Button";var u=a(83540),f=a(41287),p=a(94754),h=a(96025),x=a(16238),g=a(94517),j=a(62341);let v=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});v.displayName="Card";let N=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...s})});N.displayName="CardHeader";let b=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});b.displayName="CardTitle";let y=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});y.displayName="CardDescription";let w=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...s})});w.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter";var k=a(24026);let S={light:"",dark:".dark"},C=s.createContext(null);function _(){let e=s.useContext(C);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let R=s.forwardRef((e,t)=>{let{id:a,className:l,children:n,config:o,...d}=e,c=s.useId(),m="chart-".concat(a||c.replace(/:/g,""));return(0,r.jsx)(C.Provider,{value:{config:o},children:(0,r.jsxs)("div",{"data-chart":m,ref:t,className:(0,i.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",l),...d,children:[(0,r.jsx)(A,{id:m,config:o}),(0,r.jsx)(u.u,{children:n})]})})});R.displayName="Chart";let A=e=>{let{id:t,config:a}=e,s=Object.entries(a).filter(e=>{let[,t]=e;return t.theme||t.color});return s.length?(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(S).map(e=>{let[a,r]=e;return"\n".concat(r," [data-chart=").concat(t,"] {\n").concat(s.map(e=>{var t;let[r,s]=e,l=(null==(t=s.theme)?void 0:t[a])||s.color;return l?"  --color-".concat(r,": ").concat(l,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null};g.m;let T=s.forwardRef((e,t)=>{let{active:a,payload:l,className:n,indicator:o="dot",hideLabel:d=!1,hideIndicator:c=!1,label:m,labelFormatter:u,labelClassName:f,formatter:p,color:h,nameKey:x,labelKey:g}=e,{config:j}=_(),v=s.useMemo(()=>{var e;if(d||!(null==l?void 0:l.length))return null;let[t]=l,a="".concat(g||t.dataKey||t.name||"value"),s=O(j,t,a),n=g||"string"!=typeof m?null==s?void 0:s.label:(null==(e=j[m])?void 0:e.label)||m;return u?(0,r.jsx)("div",{className:(0,i.cn)("font-medium",f),children:u(n,l)}):n?(0,r.jsx)("div",{className:(0,i.cn)("font-medium",f),children:n}):null},[m,u,l,d,f,j,g]);if(!a||!(null==l?void 0:l.length))return null;let N=1===l.length&&"dot"!==o;return(0,r.jsxs)("div",{ref:t,className:(0,i.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[N?null:v,(0,r.jsx)("div",{className:"grid gap-1.5",children:l.map((e,t)=>{let a,s="".concat(x||e.name||e.dataKey||"value"),l=O(j,e,s),n=e.value;return a=n>=4?"#1495a2":n>=2?"#c4920e":"#e5475c",(0,r.jsx)("div",{className:(0,i.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===o&&"items-center"),children:p&&(null==e?void 0:e.value)!==void 0&&e.name?p(e.value,e.name,e,t,e.payload):(0,r.jsxs)(r.Fragment,{children:[(null==l?void 0:l.icon)?(0,r.jsx)(l.icon,{}):!c&&(0,r.jsx)("div",{className:(0,i.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===o,"w-1":"line"===o,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===o,"my-0.5":N&&"dashed"===o}),style:{"--color-bg":a,"--color-border":a}}),(0,r.jsxs)("div",{className:(0,i.cn)("flex flex-1 justify-between leading-none",N?"items-end":"items-center"),children:[(0,r.jsxs)("div",{className:"grid gap-1.5",children:[N?v:null,(0,r.jsx)("span",{className:"text-muted-foreground",children:(null==l?void 0:l.label)||e.name})]}),e.value&&(0,r.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function O(e,t,a){if("object"!=typeof t||null===t)return;let r="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,s=a;return a in t&&"string"==typeof t[a]?s=t[a]:r&&a in r&&"string"==typeof r[a]&&(s=r[a]),s in e?e[s]:e[a]}T.displayName="ChartTooltip",k.s,s.forwardRef((e,t)=>{let{className:a,hideIcon:s=!1,payload:l,verticalAlign:n="bottom",nameKey:o}=e,{config:d}=_();return(null==l?void 0:l.length)?(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center justify-center gap-4","top"===n?"pb-3":"pt-3",a),children:l.map(e=>{let t="".concat(o||e.dataKey||"value"),a=O(d,e,t);return(0,r.jsxs)("div",{className:(0,i.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==a?void 0:a.icon)&&!s?(0,r.jsx)(a.icon,{}):(0,r.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==a?void 0:a.label]},e.value)})}):null}).displayName="ChartLegend";let I={score:{label:"Avg. Score"}},E=e=>{let{cx:t,cy:a,payload:s}=e,l="rgb(255,104,102)";return s.score>=4?l="rgb(61,196,209)":s.score>=2&&(l="rgb(221,186,92)"),(0,r.jsx)("circle",{cx:t,cy:a,r:6,stroke:"#fff",strokeWidth:2,fill:l})};function L(e){let{scores:t,dictionary:a}=e,l=(0,s.useMemo)(()=>(0,r.jsx)(E,{}),[]),n=(0,s.useMemo)(()=>{let e={...I};return e.score.label=a.scoreboard.avg,e},[a]);return(0,r.jsxs)(v,{className:"h-full",children:[(0,r.jsxs)(N,{children:[(0,r.jsx)(b,{className:"font-headline",children:a.scoreboard.title}),(0,r.jsx)(y,{children:a.scoreboard.description})]}),(0,r.jsx)(w,{children:(0,r.jsx)(R,{config:n,className:"min-h-[200px] w-full",children:(0,r.jsx)(u.u,{width:"100%",height:250,children:(0,r.jsxs)(f.Q,{data:t,margin:{top:10,right:30,left:0,bottom:0},children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"splitColorStroke",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,r.jsx)("stop",{offset:"0.33",stopColor:"rgb(61,196,209)"}),(0,r.jsx)("stop",{offset:"0.33",stopColor:"rgb(221,186,92)"}),(0,r.jsx)("stop",{offset:"0.66",stopColor:"rgb(221,186,92)"}),(0,r.jsx)("stop",{offset:"0.66",stopColor:"rgb(255,104,102)"}),(0,r.jsx)("stop",{offset:"1",stopColor:"rgb(255,104,102)"})]})}),(0,r.jsx)(p.d,{vertical:!1,strokeDasharray:"3 3"}),(0,r.jsx)(h.W,{dataKey:"generation",tickLine:!1,tickMargin:10,axisLine:!1}),(0,r.jsx)(x.h,{domain:[0,6],tickLine:!1,axisLine:!1,tickMargin:10,ticks:[0,2,4,6]}),(0,r.jsx)(g.m,{cursor:{stroke:"hsl(var(--primary))",strokeWidth:1,strokeDasharray:"3 3"},content:(0,r.jsx)(T,{indicator:"dot"})}),(0,r.jsx)(j.G,{type:"monotone",dataKey:"score",stroke:"url(#splitColorStroke)",fill:"transparent",strokeWidth:3,activeDot:l})]})})})})]})}var P=a(37250),M=a(79556);let D=P.bL,z=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(P.q7,{ref:t,className:(0,i.cn)("border-b",a),...s})});z.displayName="AccordionItem";let F=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsx)(P.Y9,{className:"flex",children:(0,r.jsxs)(P.l9,{ref:t,className:(0,i.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...l,children:[s,(0,r.jsx)(M.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});F.displayName=P.l9.displayName;let J=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsx)(P.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...l,children:(0,r.jsx)("div",{className:(0,i.cn)("pb-4 pt-0",a),children:s})})});J.displayName=P.UC.displayName;var U=a(66766);a(64962);let V=[0,1,2,3,4,5,6],G=e=>void 0===e?"transparent":e<2?"rgb(255,104,102)":e<4?"rgb(221,186,92)":"rgb(61,196,209)",K=(0,s.memo)(e=>{let{pokemon:t,rating:a,onRatingChange:s}=e,l=e=>{s(t.id,e)},n=G(a);return(0,r.jsxs)(v,{className:"flex flex-col items-center text-center transition-all duration-300 hover:shadow-lg hover:border-primary",children:[(0,r.jsxs)(N,{className:"p-4",children:[(0,r.jsx)("div",{className:"relative w-24 h-24 mx-auto",children:t.sprite?(0,r.jsx)(U.default,{src:t.sprite,alt:t.name,width:96,height:96,className:"object-contain",unoptimized:!0,"data-ai-hint":"pokemon sprite",loading:"lazy"}):(0,r.jsx)(m,{className:"w-24 h-24 rounded-full"})}),(0,r.jsx)(b,{className:"text-sm md:text-base font-medium capitalize mt-2 tracking-tight",children:t.name.replace(/-/g," ")})]}),(0,r.jsx)(w,{className:"p-4 pt-0 w-full flex justify-center",children:(0,r.jsx)("div",{className:"rating-bar",role:"radiogroup","aria-label":"Rating for ".concat(t.name),children:V.map(e=>(0,r.jsx)("button",{type:"button",role:"radio","aria-checked":a===e,onClick:()=>l(e),className:"rating-button","data-rating-value":e,style:a===e?{backgroundColor:n,color:"#fff"}:{},children:e},e))})})]})});var q=a(11133),W=a(75078);let Z=e=>e<2?"text-[rgb(255,104,102)]":e<4?"text-[rgb(221,186,92)]":"text-[rgb(61,196,209)]",H=(0,s.memo)(e=>{var t,a;let{generation:l,ratings:n,onRatingChange:o,onFetchGeneration:i,dictionary:d}=e,[u,f]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!1),j=(0,s.useMemo)(()=>l.pokemon.every(e=>void 0!==e.sprite),[l.pokemon]),v=async()=>{let e=!u;f(e),!e||j||p||N()},N=async()=>{h(!0),g(!1);try{await i(l.id)}catch(e){g(!0)}finally{h(!1)}},b=(0,s.useMemo)(()=>{let e={};for(let t of l.pokemon)void 0!==n[t.id]&&(e[t.id]=n[t.id]);return e},[l.pokemon,n]),y=(0,s.useMemo)(()=>{let e=Object.keys(b);return 0===e.length?0:e.reduce((e,t)=>{var a;return e+(null!=(a=b[t])?a:0)},0)/e.length},[b]),w=(0,s.useMemo)(()=>Object.keys(b).length,[b]),k=Z(y);return(0,r.jsx)(D,{type:"single",collapsible:!0,onValueChange:e=>v(),value:u?"item-".concat(l.id):"",children:(0,r.jsxs)(z,{value:"item-".concat(l.id),className:"border-b-0",children:[(0,r.jsx)(F,{className:"text-lg font-headline font-semibold hover:no-underline rounded-lg bg-card p-4",children:(0,r.jsxs)("div",{className:"flex justify-between w-full items-center pr-4",children:[(0,r.jsx)("span",{children:l.name}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"text-sm font-body font-normal text-muted-foreground hidden md:block",children:[w," / ",l.pokemon.length]}),(0,r.jsxs)("span",{className:"text-base font-body font-bold ".concat(k),children:[d.scoreboard.avg,": ",y.toFixed(2)]})]})]})}),(0,r.jsxs)(J,{className:"pt-4",children:[p&&(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:Array.from({length:12}).map((e,t)=>(0,r.jsx)(m,{className:"h-48 w-full"},t))}),x&&(0,r.jsxs)("div",{className:"text-center py-6 bg-muted rounded-lg",children:[(0,r.jsx)(q.A,{className:"mx-auto h-8 w-8 text-destructive"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:(null==(t=d.errors)?void 0:t.generationLoad)||"Failed to load Pok\xe9mon."}),(0,r.jsxs)(c,{onClick:N,variant:"ghost",size:"sm",className:"mt-2",children:[(0,r.jsx)(W.A,{className:"mr-2 h-4 w-4"}),(null==(a=d.errors)?void 0:a.retry)||"Retry"]})]}),!p&&!x&&j&&(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:l.pokemon.map(e=>(0,r.jsx)(K,{pokemon:e,rating:n[e.id],onRatingChange:o},e.id))})]})]})})}),B="pokeRaterRatings",Y="pokeRaterFavorites";var Q=a(87481),X=a(7390),$=a(86318),ee=a(25794),et=a(47655);let ea=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(et.bL,{ref:t,className:(0,i.cn)("relative overflow-hidden",a),...l,children:[(0,r.jsx)(et.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,r.jsx)(er,{}),(0,r.jsx)(et.OK,{})]})});ea.displayName=et.bL.displayName;let er=s.forwardRef((e,t)=>{let{className:a,orientation:s="vertical",...l}=e;return(0,r.jsx)(et.VM,{ref:t,orientation:s,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...l,children:(0,r.jsx)(et.lr,{className:"relative flex-1 rounded-full bg-border"})})});er.displayName=et.VM.displayName;var es=a(79311),el=a(77223),en=a(40295),eo=a(18046);function ei(e){let{allPokemon:t,ratings:a,favorites:l,onFavoritesChange:n,dictionary:o}=e,[i,d]=(0,s.useState)(!1),[m,u]=(0,s.useState)(null),[f,p]=(0,s.useState)(null),h=(0,s.useMemo)(()=>t.filter(e=>6===a[e.id]),[t,a]),x=(0,s.useMemo)(()=>l.map(e=>t.find(t=>t.id===e)).filter(e=>void 0!==e),[l,t]),g=(0,s.useMemo)(()=>{let e=new Set(l);return h.filter(t=>!e.has(t.id))},[h,l]),j=e=>{l.length<6&&n([...l,e])},k=e=>{n(l.filter(t=>t!==e))},S=(e,t)=>{e.dataTransfer.setData("draggedIndex",t.toString()),u(t)},C=()=>{u(null),p(null)},_=(e,t)=>{e.preventDefault(),null!==m&&m!==t&&p(t)},R=e=>{e.preventDefault(),p(null)},A=(e,t)=>{let a=parseInt(e.dataTransfer.getData("draggedIndex"),10),r=[...l],[s]=r.splice(a,1);r.splice(t,0,s),n(r),C()},T=e=>{e.preventDefault()};return(0,r.jsxs)(v,{className:"h-full flex flex-col",children:[(0,r.jsxs)(N,{children:[(0,r.jsx)(b,{className:"font-headline",children:o.top6.title}),(0,r.jsx)(y,{children:o.top6.description})]}),(0,r.jsx)(w,{className:"flex-grow flex flex-col",children:i?(0,r.jsxs)("div",{className:"flex-grow flex flex-col",children:[(0,r.jsxs)("h4",{className:"font-semibold mb-2 text-sm",children:[o.top6.addTitle," (",l.length,"/6)"]}),(0,r.jsx)(ea,{className:"h-48 border rounded-md",children:(0,r.jsx)("div",{className:"p-2 grid grid-cols-3 sm:grid-cols-4 gap-2",children:g.map(e=>(0,r.jsx)("button",{onClick:()=>j(e.id),className:"flex flex-col items-center p-1 rounded-md hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed",disabled:l.length>=6,title:e.name,children:e.sprite?(0,r.jsx)(U.default,{src:e.sprite,alt:e.name,width:64,height:64,className:"object-contain",unoptimized:!0}):(0,r.jsx)("div",{className:"w-16 h-16 flex items-center justify-center bg-muted rounded-md",children:(0,r.jsx)(es.A,{className:"w-8 h-8 text-muted-foreground"})})},e.id))})}),(0,r.jsx)(c,{onClick:()=>d(!1),variant:"secondary",className:"mt-4",children:o.top6.backButton})]}):(0,r.jsxs)("div",{className:"flex-grow flex flex-col",children:[(0,r.jsx)(ea,{className:"flex-grow",children:(0,r.jsxs)("ol",{className:"space-y-2",children:[x.map((e,t)=>{let a=m===t,s=f===t;return(0,r.jsxs)("li",{className:"favorite-item ".concat(a?"dragging":""," ").concat(s?"drop-target":""),draggable:!0,onDragStart:e=>S(e,t),onDragEnd:C,onDrop:e=>A(e,t),onDragOver:T,onDragEnter:e=>_(e,t),onDragLeave:R,children:[(0,r.jsxs)("span",{className:"text-lg font-bold text-primary w-8",children:[t+1,"."]}),e.sprite?(0,r.jsx)(U.default,{src:e.sprite,alt:e.name,width:40,height:40,className:"object-contain mx-2",unoptimized:!0}):(0,r.jsx)("div",{className:"w-10 h-10 flex items-center justify-center bg-muted rounded-md mx-2",children:(0,r.jsx)(es.A,{className:"w-5 h-5 text-muted-foreground"})}),(0,r.jsx)("span",{className:"flex-grow capitalize text-sm",children:e.name}),(0,r.jsx)("button",{onClick:()=>k(e.id),className:"p-1 text-muted-foreground hover:text-destructive",children:(0,r.jsx)(el.A,{className:"w-4 h-4"})}),(0,r.jsx)(en.A,{className:"w-5 h-5 text-muted-foreground cursor-grab ml-1"})]},e.id)}),Array.from({length:6-l.length}).map((e,t)=>(0,r.jsxs)("li",{className:"flex items-center bg-muted/50 p-2 rounded-md border-dashed border-2 h-[58px]",children:[(0,r.jsxs)("span",{className:"text-lg font-bold text-muted-foreground w-8",children:[l.length+t+1,"."]}),(0,r.jsx)(c,{variant:"ghost",className:"ml-auto",onClick:()=>d(!0),disabled:0===h.length,"aria-label":"Add Pok\xe9mon",children:(0,r.jsx)(eo.A,{className:"w-5 h-5"})})]},"placeholder-".concat(t)))]})}),0===l.length&&0===h.length&&(0,r.jsx)("p",{className:"text-center text-sm text-muted-foreground mt-4 p-4 bg-muted/50 rounded-md",children:o.top6.emptyState})]})})]})}a(96242);var ed=a(89615),ec=a(73158),em=a(10518),eu=a(70154);let ef=ed.bL,ep=ed.l9;ed.YJ,ed.ZL,ed.Pb,ed.z6,s.forwardRef((e,t)=>{let{className:a,inset:s,children:l,...n}=e;return(0,r.jsxs)(ed.ZP,{ref:t,className:(0,i.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",a),...n,children:[l,(0,r.jsx)(ec.A,{className:"ml-auto"})]})}).displayName=ed.ZP.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(ed.G5,{ref:t,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})}).displayName=ed.G5.displayName;let eh=s.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...l}=e;return(0,r.jsx)(ed.ZL,{children:(0,r.jsx)(ed.UC,{ref:t,sideOffset:s,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});eh.displayName=ed.UC.displayName;let ex=s.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(ed.q7,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",a),...l})});ex.displayName=ed.q7.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,checked:l,...n}=e;return(0,r.jsxs)(ed.H_,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(ed.VF,{children:(0,r.jsx)(em.A,{className:"h-4 w-4"})})}),s]})}).displayName=ed.H_.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(ed.hN,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(ed.VF,{children:(0,r.jsx)(eu.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=ed.hN.displayName,s.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(ed.JU,{ref:t,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...l})}).displayName=ed.JU.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(ed.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=ed.wv.displayName;var eg=a(78064);async function ej(e){let t=Array.from({length:9},(e,t)=>fetch("https://pokeapi.co/api/v2/generation/".concat(t+1)).then(e=>e.json()));return(await Promise.all(t)).map(t=>({id:t.id,name:"".concat(e.generation," ").concat(t.id),pokemon:t.pokemon_species.map(e=>{let t=e.url.split("/");return{id:t[t.length-2],name:e.name}}).filter(e=>1025>=parseInt(e.id)).sort((e,t)=>parseInt(e.id)-parseInt(t.id))}))}async function ev(e){return Promise.all(e.map(e=>fetch("https://pokeapi.co/api/v2/pokemon/".concat(e.id)).then(e=>e.ok?e.json():null).then(t=>t?{...e,sprite:t.sprites.front_default}:{...e,sprite:void 0}).catch(t=>(console.warn("Could not fetch data for pokemon id ".concat(e.id),t),{...e,sprite:void 0}))))}function eN(e){let{dictionary:t}=e,a=(0,l.useSearchParams)(),n=a.get("ratings"),o=a.get("favorites"),{toast:i}=(0,Q.dj)(),[d,u]=(0,s.useState)([]),[f,p]=(0,s.useState)(!0),[h,x]=(0,s.useState)(null),g=(0,s.useRef)(null),{ratings:j,favorites:v,handleRatingChange:N,handleFavoritesChange:b,generationScores:y,generateShareableLink:w,allPokemon:k}=function(e,t,a){let[r,l]=(0,s.useState)({}),[n,o]=(0,s.useState)([]);(0,s.useEffect)(()=>{let e={};if(t)try{e=JSON.parse(atob(t))}catch(a){console.error("Failed to parse ratings from URL",a);let t=localStorage.getItem(B);t&&(e=JSON.parse(t))}else{let t=localStorage.getItem(B);t&&(e=JSON.parse(t))}l(e);let r=[];if(a)try{r=JSON.parse(atob(a))}catch(t){console.error("Failed to parse favorites from URL",t);let e=localStorage.getItem(Y);e&&(r=JSON.parse(e))}else{let e=localStorage.getItem(Y);e&&(r=JSON.parse(e))}o(r)},[t,a]),(0,s.useEffect)(()=>{Object.keys(r).length>0&&localStorage.setItem(B,JSON.stringify(r))},[r]),(0,s.useEffect)(()=>{n.length>0&&localStorage.setItem(Y,JSON.stringify(n))},[n]);let i=(0,s.useCallback)((e,t)=>{l(a=>({...a,[e]:t}))},[]),d=(0,s.useCallback)(e=>{o(e)},[]),c=(0,s.useCallback)(()=>{let e=btoa(JSON.stringify(r)),t=btoa(JSON.stringify(n)),a=new URL(window.location.href);return a.searchParams.set("ratings",e),a.searchParams.set("favorites",t),a.toString()},[r,n]),m=(0,s.useMemo)(()=>e.length?e.map(e=>{let t=e.pokemon.filter(e=>void 0!==r[e.id]);if(0===t.length)return{name:e.name,score:0,generation:"Gen ".concat(e.id)};let a=t.reduce((e,t)=>{var a;return e+(null!=(a=r[t.id])?a:0)},0)/t.length;return{name:e.name,score:parseFloat(a.toFixed(2)),generation:"Gen ".concat(e.id)}}):[],[e,r]);return{ratings:r,favorites:n,handleRatingChange:i,handleFavoritesChange:d,generationScores:m,generateShareableLink:c,allPokemon:(0,s.useMemo)(()=>e.flatMap(e=>e.pokemon),[e])}}(d,n,o),S=(0,s.useCallback)(async()=>{p(!0),x(null);try{let e=await ej(t);u(e)}catch(r){var e,a;console.error("Failed to fetch initial Pokemon data",r),x((null==(e=t.errors)?void 0:e.initialLoad)||"Could not load generation data. Please refresh."),i({title:"Error",description:(null==(a=t.errors)?void 0:a.initialLoadToast)||"Could not fetch generation data. Please try again later.",variant:"destructive"})}finally{p(!1)}},[i,t]);(0,s.useEffect)(()=>{S()},[S]),(0,s.useEffect)(()=>{if(v.length>0&&k.length>0){let e=k.filter(e=>v.includes(e.id)).filter(e=>!e.sprite);e.length>0&&ev(e).then(e=>{let t=new Map(e.map(e=>[e.id,e]));u(e=>e.map(e=>({...e,pokemon:e.pokemon.map(e=>t.get(e.id)||e)})))})}},[v,k]);let C=(0,s.useCallback)(async e=>{let t=d.findIndex(t=>t.id===e);if(-1===t)return;let a=d[t];if(a.pokemon.every(e=>void 0!==e.sprite))return;let r=await ev(a.pokemon);u(e=>{let a=[...e];return a[t]={...a[t],pokemon:r},a})},[d]),_=(0,s.useCallback)(()=>{null!==g.current&&eg.$E(g.current,{cacheBust:!0,backgroundColor:"hsl(var(--background))",filter:e=>!("LINK"===e.tagName&&"stylesheet"===e.rel&&e.href.includes("fonts.googleapis.com"))}).then(e=>{let a=document.createElement("a");a.download="pokerater-summary.png",a.href=e,a.click(),i({title:t.share.imageToastTitle,description:t.share.imageToastDescription})}).catch(e=>{console.log(e),i({title:"Error",description:"Could not generate image. Please try again.",variant:"destructive"})})},[g,i,t]);if(f)return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)(m,{className:"h-12 w-1/2 mx-auto"}),(0,r.jsx)(m,{className:"h-6 w-3/4 mx-auto"})]}),(0,r.jsx)(m,{className:"h-72 w-full"}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(m,{className:"h-10 w-28"})}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(m,{className:"h-20 w-full"}),(0,r.jsx)(m,{className:"h-20 w-full"}),(0,r.jsx)(m,{className:"h-20 w-full"})]})]});if(h){var R,A;return(0,r.jsxs)("div",{className:"text-center py-10",children:[(0,r.jsx)(q.A,{className:"mx-auto h-12 w-12 text-destructive"}),(0,r.jsx)("h2",{className:"mt-4 text-lg font-semibold",children:(null==(R=t.errors)?void 0:R.ohNo)||"Oh no!"}),(0,r.jsx)("p",{className:"mt-2 text-muted-foreground",children:h}),(0,r.jsx)(c,{onClick:S,className:"mt-6",children:(null==(A=t.errors)?void 0:A.retry)||"Retry"})]})}return(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("header",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl md:text-5xl font-bold font-headline text-primary tracking-tighter",children:t.title}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2 max-w-2xl mx-auto",children:t.description})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{ref:g,className:"bg-background",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsx)(L,{scores:y,dictionary:t})}),(0,r.jsx)(ei,{allPokemon:k,ratings:j,favorites:v,onFavoritesChange:b,dictionary:t})]})}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)(ef,{children:[(0,r.jsx)(ep,{asChild:!0,children:(0,r.jsxs)(c,{children:[(0,r.jsx)(X.A,{className:"mr-2 h-4 w-4"}),t.share.button]})}),(0,r.jsxs)(eh,{children:[(0,r.jsxs)(ex,{onClick:()=>{let e=w();navigator.clipboard.writeText(e),i({title:t.share.toastTitle,description:t.share.toastDescription})},children:[(0,r.jsx)($.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:t.share.copyLink})]}),(0,r.jsxs)(ex,{onClick:_,children:[(0,r.jsx)(ee.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:t.share.downloadImage})]})]})]})}),(0,r.jsx)("div",{className:"space-y-4",children:d.map(e=>(0,r.jsx)(H,{generation:e,ratings:j,onRatingChange:N,onFetchGeneration:C,dictionary:t},e.id))})]})]})}function eb(e){let{dictionary:t}=e;return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(eN,{dictionary:t})})}},87481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>u});var r=a(12115);let s=0,l=new Map,n=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],d={toasts:[]};function c(e){d=o(d,e),i.forEach(e=>{e(d)})}function m(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,t]=r.useState(d);return r.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},91777:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,6874,23)),Promise.resolve().then(a.bind(a,17461)),Promise.resolve().then(a.bind(a,74224))},96242:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[869,118,874,273,979,441,684,358],()=>t(91777)),_N_E=e.O()}]);